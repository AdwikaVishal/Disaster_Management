server:
  port: 8080
  servlet:
    context-path: /api

spring:
  application:
    name: sensesafe-backend
  
  main:
    allow-circular-references: true
  
  # H2 Database Configuration
  datasource:
    url: jdbc:h2:mem:sensesafe;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password: password
  
  h2:
    console:
      enabled: true
      path: /h2-console
      settings:
        web-allow-others: true
  
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  
  # Mail Configuration (SMTP)
  mail:
    host: smtp.gmail.com
    port: 587
    username: adwikavishal@gmail.com
    password: "zerd bjnv zxum nyhq"

    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
        transport:
          protocol: smtp
  
  # WebSocket Configuration
  websocket:
    allowed-origins: "http://localhost:3000,http://localhost:5173"
  
  task:
    scheduling:
      enabled: true

# JWT Configuration
jwt:
  secret: 5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437
  expiration: 86400000 # 24 hours

# Blockchain Configuration
blockchain:
  rpc-url: https://eth-mainnet.g.alchemy.com/v2/-Za4X_xY1WOFS5qmVPozb
  private-key: 05e271d15a55f8078408d1d90fba97968f3f15f4972628d0425713a49303ddb8
  contract-address: 0x598761b8e308aa6f37Cd57B468CB8c86eB519F4b

# ML Endpoints Configuration
ml:
  base-url: ${ML_BASE_URL:http://localhost:5001}
  endpoints:
    fraud: /predict/fraud
    risk: /predict/risk
    similarity: /predict/similarity

# Emergency Services Configuration
emergency:
  services:
    fire-department: "+1-555-FIRE-911"
    police: "+1-555-POLICE"
    ambulance: "+1-555-AMBULANCE"
    hospital: "+1-555-HOSPITAL"
    gas-emergency: "+1-555-GAS-HELP"

# Geolocation Configuration
geolocation:
  cache-duration: 3600 # 1 hour

# CORS Configuration
cors:
  allowed-origins: "http://localhost:3000,http://localhost:5173"
  allowed-methods: "GET,POST,PUT,DELETE,OPTIONS"
  allowed-headers: "*"
  allow-credentials: true

# Logging Configuration
logging:
  level:
    com.sensesafe: DEBUG
    org.springframework.security: DEBUG
    org.springframework.web: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/sensesafe.log